启动Phoenix服务器: Sun Apr  6 01:13:46 PM UTC 2025
=CRASH REPORT==== 6-Apr-2025::13:13:47.279056 ===
  crasher:
    initial call: prim_tty:reader/1
    pid: <0.69.0>
    registered_name: user_drv_reader
    exception error: no case clause matching {error,{read,ebadf}}
      in function  prim_tty:reader_loop/6 (prim_tty.erl, line 480)
    ancestors: [user_drv,<0.65.0>,kernel_sup,<0.47.0>]
    message_queue_len: 0
    messages: []
    links: [<0.66.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 159
  neighbours:

=CRASH REPORT==== 6-Apr-2025::13:13:47.279056 ===
  crasher:
    initial call: prim_tty:reader/1
    pid: <0.69.0>
    registered_name: user_drv_reader
    exception error: no case clause matching {error,{read,ebadf}}
      in function  prim_tty:reader_loop/6 (prim_tty.erl, line 480)
    ancestors: [user_drv,<0.65.0>,kernel_sup,<0.47.0>]
    message_queue_len: 0
    messages: []
    links: [<0.66.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 159
  neighbours:

     warning: variable "updated_params" is unused (if the variable is not meant to be used, prefix it with an underscore)
     │
 970 │       updated_params = item_params
     │       ~
     │
     └─ lib/my_app_web/live/form_live/edit.ex:970:7: MyAppWeb.FormLive.Edit.handle_event/3

      warning: clauses with the same name and arity (number of arguments) should be grouped together, "def handle_info/2" was previously defined (lib/my_app_web/live/form_live/edit.ex:86)
      │
 1331 │   def handle_info({:update_matrix_defaults, updated_item}, socket) do
      │       ~
      │
      └─ lib/my_app_web/live/form_live/edit.ex:1331:7

      warning: clauses with the same name and arity (number of arguments) should be grouped together, "def handle_event/3" was previously defined (lib/my_app_web/live/form_live/edit.ex:137)
      │
 1714 │   def handle_event("add_page", _params, socket) do
      │       ~
      │
      └─ lib/my_app_web/live/form_live/edit.ex:1714:7

      warning: function find_source_item/2 is unused
      │
 1895 │   defp find_source_item(nil, _available_items), do: nil
      │        ~
      │
      └─ lib/my_app_web/live/form_live/edit.ex:1895:8: MyAppWeb.FormLive.Edit (module)

     warning: clauses with the same name and arity (number of arguments) should be grouped together, "def handle_event/3" was previously defined (lib/my_app_web/live/form_live/submit.ex:174)
     │
 409 │   def handle_event("set_rating", %{"field-id" => field_id, "rating" => rating}, socket) do
     │       ~
     │
     └─ lib/my_app_web/live/form_live/submit.ex:409:7

    warning: unused import MyAppWeb.Components.RegionSelect
    │
 12 │   import MyAppWeb.Components.RegionSelect
    │   ~
    │
    └─ lib/my_app_web/live/form_live/submit.ex:12:3

     warning: single-quoted strings represent charlists. Use ~c"" if you indeed want a charlist or use "" instead
     │
 214 │              <div class={"space-y-2 #{is_preview && 'opacity-60 pointer-events-none'}"}>
     │                                                     ~
     │
     └─ lib/my_app_web/live/form_live/item_renderer_component.ex:214:53

     warning: single-quoted strings represent charlists. Use ~c"" if you indeed want a charlist or use "" instead
     │
 237 │             <div class={"space-y-2 #{is_preview && 'opacity-60 pointer-events-none'}"}>
     │                                                    ~
     │
     └─ lib/my_app_web/live/form_live/item_renderer_component.ex:237:52

     warning: single-quoted strings represent charlists. Use ~c"" if you indeed want a charlist or use "" instead
     │
 275 │              <div class={"space-y-2 #{is_preview && 'opacity-60 pointer-events-none'}"}>
     │                                                     ~
     │
     └─ lib/my_app_web/live/form_live/item_renderer_component.ex:275:53

     warning: single-quoted strings represent charlists. Use ~c"" if you indeed want a charlist or use "" instead
     │
 309 │              <div class={"space-y-2 #{is_preview && 'opacity-60 pointer-events-none'}"}>
     │                                                     ~
     │
     └─ lib/my_app_web/live/form_live/item_renderer_component.ex:309:53

     warning: function display_category/1 is unused
     │
 241 │   defp display_category(:basic), do: "基础控件"
     │        ~
     │
     └─ lib/my_app_web/live/form_live/index.ex:241:8: MyAppWeb.FormLive.Index (module)

     warning: function display_selected_type/1 is unused
     │
 247 │   defp display_selected_type("text_input"), do: "文本输入"
     │        ~
     │
     └─ lib/my_app_web/live/form_live/index.ex:247:8: MyAppWeb.FormLive.Index (module)

     warning: function get_type_icon/1 is unused
     │
 265 │   defp get_type_icon(:text_input), do: "fa-keyboard"
     │        ~
     │
     └─ lib/my_app_web/live/form_live/index.ex:265:8: MyAppWeb.FormLive.Index (module)

     warning: function preload_items_with_options/1 is unused
     │
 719 │   defp preload_items_with_options(items) do
     │        ~
     │
     └─ lib/my_app/forms.ex:719:8: MyApp.Forms (module)

[info] Running MyAppWeb.Endpoint with Bandit 1.6.11 at 0.0.0.0:4000 (http)
[info] Access MyAppWeb.Endpoint at http://localhost:4000
[watch] build finished, watching for changes...
✘ [ERROR] Expected identifier but found "\"update_cities\""

    js/hooks.js:182:14:
      182 │   handleEvent("update_cities", ({field_id, cities}) => {
          ╵               ~~~~~~~~~~~~~~~

1 error

Rebuilding...

Done in 704ms.
[info] CONNECTED TO Phoenix.LiveView.Socket in 67µs
  Transport: :longpoll
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "QBkCAzUlKTAaYi84ND48ZDpCSCY0EW423xOgTsFEW6urrge6qwpcxU4p", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "91", "_track_static" => %{"0" => "http://phoenix.biantaishabi.org/assets/app.css?v=1743944968", "1" => "http://phoenix.biantaishabi.org/assets/app.js?v=1743944968"}, "vsn" => "2.0.0"}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=6.1ms decode=3.4ms queue=2.6ms idle=320.7ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:13:53.293668Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=1.0ms queue=1.7ms idle=365.2ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 109ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 197µs
[debug] QUERY OK source="forms" db=2.4ms idle=424.5ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=1.1ms queue=1.4ms idle=441.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=1.1ms queue=2.0ms idle=441.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.7ms queue=2.4ms idle=441.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.7ms queue=2.6ms idle=447.2ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.2ms queue=1.7ms idle=456.0ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=2.5ms idle=459.6ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.9ms queue=1.1ms idle=462.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.997.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.997.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "99", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=3.3ms idle=560.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:13:55.551931Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=564.7ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 5ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 121µs
[debug] QUERY OK source="forms" db=1.4ms idle=566.4ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.7ms idle=568.3ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=1.0ms queue=0.1ms idle=568.4ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=2.9ms idle=568.5ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=3.1ms queue=0.1ms idle=572.3ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=576.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.2ms idle=577.7ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=1.7ms idle=579.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1036.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1036.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "100", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=562.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:13:57.553747Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=564.0ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 86µs
[debug] QUERY OK source="forms" db=0.4ms idle=565.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=565.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.7ms idle=566.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=566.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=2.0ms queue=0.1ms idle=567.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.5ms idle=570.7ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.3ms idle=573.0ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=1.3ms idle=574.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1065.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1065.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "101", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1571.6ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:00.562430Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=1.3ms idle=1572.7ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 3ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 122µs
[debug] QUERY OK source="forms" db=0.4ms idle=1575.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1576.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=1.1ms queue=0.1ms idle=1576.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=2.5ms queue=0.1ms idle=1576.3ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms idle=1580.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=1581.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1583.2ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1584.3ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1094.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1094.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "102", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=3.3ms idle=576.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:02.568008Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=1.0ms idle=580.7ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 5ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 84µs
[debug] QUERY OK source="forms" db=1.2ms idle=582.4ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.8ms idle=584.4ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=1.0ms idle=584.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=2.4ms idle=584.4ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=2.6ms queue=0.1ms idle=587.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=591.3ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=592.7ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=1.1ms idle=594.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1123.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1123.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "103", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.6ms idle=570.1ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:04.560985Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=571.0ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 78µs
[debug] QUERY OK source="forms" db=0.4ms idle=572.3ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=573.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.8ms idle=573.1ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.4ms idle=573.4ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.2ms queue=0.1ms idle=575.6ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=577.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=579.1ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.4ms idle=580.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1152.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1152.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "104", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=3.2ms idle=1569.1ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:07.559934Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1572.8ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 4ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 108µs
[debug] QUERY OK source="forms" db=0.4ms idle=1574.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1575.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.8ms idle=1575.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1575.3ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=1577.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.4ms idle=1578.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms queue=0.1ms idle=1581.1ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1582.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1181.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1181.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "105", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.8ms idle=1566.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:10.557374Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=1.3ms idle=1567.5ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 3ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 143µs
[debug] QUERY OK source="forms" db=0.5ms idle=1569.8ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1570.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms queue=0.1ms idle=1570.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms queue=0.1ms idle=1570.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=3.1ms idle=1572.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1576.8ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.5ms idle=1577.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.4ms idle=1580.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1210.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1210.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "106", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.6ms idle=566.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:12.557666Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=567.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 87µs
[debug] QUERY OK source="forms" db=0.5ms idle=569.0ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.7ms queue=0.1ms idle=570.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=1.0ms queue=0.1ms idle=570.1ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.4ms idle=570.2ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=572.6ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=574.4ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=575.6ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=576.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1239.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1239.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "107", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=571.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:14.562946Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=572.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 88µs
[debug] QUERY OK source="forms" db=0.5ms idle=574.0ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=575.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms queue=0.1ms idle=575.1ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=575.2ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=576.9ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=578.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=579.8ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.9ms idle=581.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1268.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1268.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "108", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=2.5ms idle=563.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:16.554797Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=566.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 4ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 105µs
[debug] QUERY OK source="forms" db=1.1ms idle=568.3ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=569.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=569.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.3ms idle=569.9ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=2.5ms idle=572.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=575.6ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=576.6ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=577.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1297.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1297.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "109", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.6ms idle=562.1ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:18.552956Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=563.0ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 1ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 117µs
[debug] QUERY OK source="forms" db=1.1ms idle=564.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=565.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.7ms idle=565.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms idle=565.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=567.7ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.8ms idle=569.4ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=570.8ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=571.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1326.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1326.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "110", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.6ms idle=1589.3ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:21.580343Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1590.3ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 83µs
[debug] QUERY OK source="forms" db=0.5ms idle=1591.5ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1592.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.7ms idle=1592.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1592.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.0ms queue=0.1ms idle=1594.5ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.1ms idle=1596.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=1598.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=1.0ms idle=1599.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1355.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1355.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "111", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1576.2ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:24.566998Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.6ms idle=1577.2ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 142µs
[debug] QUERY OK source="forms" db=0.6ms idle=1578.8ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=1580.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.8ms idle=1579.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.2ms idle=1580.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.6ms idle=1582.3ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=1585.1ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1586.4ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=1587.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1384.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1384.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "112", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.4ms idle=1565.7ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:27.556654Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.7ms idle=1566.4ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 118µs
[debug] QUERY OK source="forms" db=0.5ms idle=1568.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms queue=0.1ms idle=1569.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.8ms idle=1569.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1569.2ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1571.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1572.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.6ms idle=1574.0ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1576.1ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1413.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1413.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "113", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.6ms idle=1586.2ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:30.577114Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.7ms idle=1587.4ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 92µs
[debug] QUERY OK source="forms" db=0.5ms idle=1588.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=1589.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=1589.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.5ms idle=1589.9ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.6ms queue=0.1ms idle=1592.4ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1594.8ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1596.1ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1597.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1442.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1442.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "114", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1563.0ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:33.553939Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1564.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 77µs
[debug] QUERY OK source="forms" db=0.3ms idle=1565.2ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1566.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1566.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1566.3ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms queue=0.1ms idle=1568.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1570.0ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=1.5ms idle=1571.2ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.4ms idle=1573.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1471.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1471.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "115", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1558.3ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:36.549197Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=1559.4ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 94µs
[debug] QUERY OK source="forms" db=0.4ms idle=1560.8ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1561.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.8ms queue=0.1ms idle=1561.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.4ms idle=1561.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms queue=0.1ms idle=1564.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1565.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1567.2ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.5ms idle=1568.1ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1500.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1500.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "116", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.8ms idle=1587.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:39.578761Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.6ms idle=1589.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 95µs
[debug] QUERY OK source="forms" db=0.5ms idle=1590.5ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1591.3ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1591.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms idle=1591.7ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.1ms queue=0.1ms idle=1593.4ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=1595.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1596.8ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1597.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1529.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1529.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "117", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=3.1ms idle=562.6ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:43.553476Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=1.7ms idle=566.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 6ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 131µs
[debug] QUERY OK source="forms" db=2.0ms queue=0.2ms idle=569.4ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.9ms idle=573.3ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.0ms idle=573.4ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=1.2ms idle=573.4ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.2ms idle=575.9ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.7ms idle=578.2ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=579.7ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.8ms idle=580.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1558.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1558.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "118", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1585.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:46.576501Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=1586.6ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 104µs
[debug] QUERY OK source="forms" db=0.4ms idle=1587.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1589.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1588.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1589.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.0ms queue=0.1ms idle=1590.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1592.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=1594.3ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1595.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1587.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1587.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "119", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1569.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:49.560192Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1570.4ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 138µs
[debug] QUERY OK source="forms" db=0.4ms idle=1571.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1572.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms queue=0.1ms idle=1572.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms idle=1572.9ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1574.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1576.6ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=1577.7ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.8ms idle=1578.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1616.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1616.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "120", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.6ms idle=1565.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:52.556772Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=1566.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 79µs
[debug] QUERY OK source="forms" db=0.4ms idle=1568.2ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1569.3ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.7ms idle=1569.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.3ms idle=1569.6ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.5ms queue=0.1ms idle=1571.6ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1574.2ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=1577.1ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.4ms idle=1578.2ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1645.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1645.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "121", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=3.3ms idle=1578.7ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:55.569866Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=1582.6ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 5ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 146µs
[debug] QUERY OK source="forms" db=0.3ms idle=1584.0ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1584.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1584.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.0ms idle=1585.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms idle=1587.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.7ms idle=1588.8ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.7ms idle=1590.2ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.8ms idle=1591.4ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1674.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1674.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "122", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1577.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:14:58.568662Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1578.8ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 88µs
[debug] QUERY OK source="forms" db=0.5ms idle=1579.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1580.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1581.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1581.2ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=1582.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1584.6ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.3ms idle=1585.7ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=1586.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1703.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1703.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "123", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.8ms idle=1575.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:01.566387Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.6ms idle=1576.8ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 3ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 129µs
[debug] QUERY OK source="forms" db=0.7ms idle=1578.5ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1579.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=1.0ms idle=1579.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.1ms idle=1580.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.2ms queue=0.1ms idle=1582.2ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1584.6ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.7ms idle=1586.1ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=1587.3ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1732.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1732.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "124", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=1.0ms queue=0.1ms idle=587.5ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:03.578661Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=588.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 158µs
[debug] QUERY OK source="forms" db=0.8ms queue=0.1ms idle=590.3ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=591.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=592.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.1ms idle=592.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=594.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=595.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=597.0ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.6ms idle=597.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1761.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1761.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "125", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=3.4ms idle=1572.1ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:06.562983Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=1576.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 5ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 235µs
[debug] QUERY OK source="forms" db=0.5ms idle=1577.7ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1578.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=1579.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.0ms idle=1579.2ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.0ms queue=0.1ms idle=1581.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1583.2ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.7ms idle=1584.4ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1585.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1790.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1790.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "126", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1557.5ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:09.548437Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=1558.6ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 122µs
[debug] QUERY OK source="forms" db=0.5ms idle=1559.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1560.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1561.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=1561.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.0ms queue=0.1ms idle=1563.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1565.0ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1566.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.8ms idle=1567.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1819.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1819.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "127", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1621.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:12.612382Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1622.4ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 75µs
[debug] QUERY OK source="forms" db=0.4ms idle=1623.5ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1624.4ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1624.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.1ms idle=1624.7ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1626.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1628.7ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1629.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.5ms idle=1630.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1848.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1848.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "128", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1569.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:15.560382Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.5ms idle=1570.5ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 166µs
[debug] QUERY OK source="forms" db=0.5ms idle=1571.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms queue=0.1ms idle=1572.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms queue=0.1ms idle=1572.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms queue=0.1ms idle=1572.9ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=1575.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1576.7ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1578.0ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1579.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1877.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1877.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "129", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=3.1ms idle=554.7ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:19.545635Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.6ms idle=558.2ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 5ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 114µs
[debug] QUERY OK source="forms" db=0.3ms idle=559.8ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.3ms queue=0.1ms idle=560.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=560.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.0ms queue=0.1ms idle=560.7ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=1.2ms queue=0.1ms idle=562.6ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=564.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=565.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=566.9ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[error] GenServer #PID<0.1906.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1906.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "130", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1563.7ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:22.555093Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1564.7ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:18[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 81µs
[debug] QUERY OK source="forms" db=0.3ms idle=1565.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1566.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1566.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1566.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="form_items" db=0.8ms queue=0.1ms idle=1568.5ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=1570.3ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1571.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:89[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.4ms idle=1572.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[error] GenServer #PID<0.1935.0> terminating
** (UndefinedFunctionError) function ItemRendererComponent.render_item/1 is undefined (module ItemRendererComponent is not available)
    ItemRendererComponent.render_item(%{mode: :edit_preview, item: %MyApp.Forms.FormItem{__meta__: #Ecto.Schema.Metadata<:loaded, "form_items">, id: "b1510b1b-a057-4f36-ac21-7b0f8752f478", label: "你是谁", description: "我是🐷", placeholder: nil, type: :text_input, max_rating: 5, min: nil, max: nil, step: 1, show_format_hint: false, format_display: false, min_date: nil, max_date: nil, date_format: "yyyy-MM-dd", min_time: nil, max_time: nil, time_format: "24h", region_level: 3, default_province: nil, matrix_rows: [], matrix_columns: [], matrix_type: :single, selection_type: :single, image_caption_position: :bottom, allowed_extensions: [], max_file_size: 5, multiple_files: false, max_files: 1, category: :basic, visibility_condition: nil, required_condition: nil, order: 1, required: false, validation_rules: %{}, form_id: "b8fd73c1-c966-43e6-935f-06a893313ebd", form: #Ecto.Association.NotLoaded<association :form is not loaded>, page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", page: #Ecto.Association.NotLoaded<association :page is not loaded>, options: [], inserted_at: ~U[2025-04-05 04:35:34Z], updated_at: ~U[2025-04-05 23:15:57Z]}, __changed__: nil})
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/tag_engine.ex:96: Phoenix.LiveView.TagEngine.component/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:573: anonymous fn/5 in MyAppWeb.FormLive.Edit.render/1
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (my_app 0.1.0) lib/my_app_web/live/form_live/edit.html.heex:524: anonymous fn/4 in MyAppWeb.FormLive.Edit.render/1
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:414: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:582: anonymous fn/3 in Phoenix.LiveView.Diff.traverse_comprehension/5
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (elixir 1.17.3) lib/enum.ex:1829: Enum."-map_reduce/3-lists^mapfoldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:503: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:555: anonymous fn/4 in Phoenix.LiveView.Diff.traverse_dynamic/7
    (elixir 1.17.3) lib/enum.ex:2531: Enum."-reduce/3-lists^foldl/2-0-"/3
    (phoenix_live_view 1.0.9) lib/phoenix_live_view/diff.ex:412: Phoenix.LiveView.Diff.traverse/7
Last message: {:load_form_data, "b8fd73c1-c966-43e6-935f-06a893313ebd"}
State: %{socket: #Phoenix.LiveView.Socket<id: "phx-GDO8tZ2JMGmLb1QB", endpoint: MyAppWeb.Endpoint, view: MyAppWeb.FormLive.Edit, parent_pid: nil, root_pid: #PID<0.1935.0>, router: MyAppWeb.Router, assigns: %{form: %MyApp.Forms.Form{__meta__: #Ecto.Schema.Metadata<:loaded, "forms">, id: "b8fd73c1-c966-43e6-935f-06a893313ebd", title: "一个测试表单", description: "一个测试表单的描述", status: :published, user_id: 1, user: #Ecto.Association.NotLoaded<association :user is not loaded>, default_page_id: "6b67f044-ae73-4e70-9908-0c1d20b82e7b", default_page: #Ecto.Association.NotLoaded<association :default_page is not loaded>, pages: #Ecto.Association.NotLoaded<association :pages is not loaded>, items: #Ecto.Association.NotLoaded<association :items is not loaded>, inserted_at: ~U[2025-04-05 03:54:35Z], updated_at: ~U[2025-04-05 22:45:47Z]}, __changed__: %{}, flash: %{}, page_title: "编辑表单 - 一个测试表单", current_user: #MyApp.Accounts.User<__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: 1, email: "biantaishabi@gmail.com", confirmed_at: nil, inserted_at: ~N[2025-04-02 16:18:51], updated_at: ~N[2025-04-02 16:18:51], ...>, live_action: :edit, current_condition: nil, item_type: nil, current_item: nil, search_term: nil, current_page: nil, editing_page: false, item_options: [], form_items: [], editing_item: false, editing_item_id: nil, temp_title: "一个测试表单", temp_description: "一个测试表单的描述", form_changeset: #Ecto.Changeset<action: nil, changes: %{}, errors: [], data: #MyApp.Forms.Form<>, valid?: true, ...>, condition_type: :visibility, editing_conditions: false, show_publish_confirm: false, editing_form_info: false, delete_page_id: nil, delete_item_id: nil, active_category: :basic, all_item_types: %{basic: [], personal: [], advanced: []}, loading_complete: false}, transport_pid: #PID<0.979.0>, ...>, components: {%{}, %{}, 1}, topic: "lv:phx-GDO8tZ2JMGmLb1QB", serializer: Phoenix.Socket.V2.JSONSerializer, join_ref: "131", redirect_count: 0, upload_names: %{}, upload_pids: %{}}
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex

Rebuilding...
Compiling 1 file (.ex)

Done in 196ms.
     warning: variable "updated_params" is unused (if the variable is not meant to be used, prefix it with an underscore)
     │
 971 │       updated_params = item_params
     │       ~
     │
     └─ (my_app 0.1.0) lib/my_app_web/live/form_live/edit.ex:971:7: MyAppWeb.FormLive.Edit.handle_event/3

      warning: clauses with the same name and arity (number of arguments) should be grouped together, "def handle_info/2" was previously defined (lib/my_app_web/live/form_live/edit.ex:87)
      │
 1332 │   def handle_info({:update_matrix_defaults, updated_item}, socket) do
      │       ~
      │
      └─ lib/my_app_web/live/form_live/edit.ex:1332:7

      warning: clauses with the same name and arity (number of arguments) should be grouped together, "def handle_event/3" was previously defined (lib/my_app_web/live/form_live/edit.ex:138)
      │
 1715 │   def handle_event("add_page", _params, socket) do
      │       ~
      │
      └─ lib/my_app_web/live/form_live/edit.ex:1715:7

      warning: function find_source_item/2 is unused
      │
 1896 │   defp find_source_item(nil, _available_items), do: nil
      │        ~
      │
      └─ lib/my_app_web/live/form_live/edit.ex:1896:8: MyAppWeb.FormLive.Edit (module)

[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.6ms idle=1980.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:25.963425Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1981.9ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:19[0m
[debug] Replied in 14ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 178µs
[debug] QUERY OK source="forms" db=0.5ms idle=1992.7ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1993.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1993.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1993.9ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_items" db=1.0ms queue=0.1ms idle=1995.4ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="item_options" db=0.3ms idle=1997.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=17.1ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
异步加载完成: 发现15个表单项
[debug] QUERY OK source="form_pages" db=0.2ms idle=17.4ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
[info] GET /forms/b8fd73c1-c966-43e6-935f-06a893313ebd/edit
[debug] Processing with MyAppWeb.FormLive.Edit.edit/2
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Pipelines: [:form_browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=0.5ms idle=53.3ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:26.032430Z]]
[90m↳ MyAppWeb.UserAuth.fetch_current_user/2, at: lib/my_app_web/user_auth.ex:97[0m
[debug] QUERY OK source="forms" db=0.4ms queue=0.1ms idle=65.0ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:19[0m
[info] Sent 200 in 60ms
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex

Rebuilding...

Done in 141ms.
[info] CONNECTED TO Phoenix.LiveView.Socket in 54µs
  Transport: :longpoll
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "OSYEUARlCDgEYW8hFhweICxcbncdPTslJGI4e3gMI55kPEGrgiV2Qyac", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://phoenix.biantaishabi.org/assets/app.css?v=1743945326", "1" => "http://phoenix.biantaishabi.org/assets/app.js?v=1743945326"}, "vsn" => "2.0.0"}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.8ms queue=0.1ms idle=1896.9ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:33.887765Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1898.2ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:19[0m
[debug] Replied in 3ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 173µs
[debug] QUERY OK source="forms" db=0.4ms idle=1900.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=1901.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=901.1ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=901.1ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_items" db=1.0ms idle=903.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=904.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="item_options" db=0.7ms idle=906.5ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_pages" db=0.7ms idle=907.8ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex
[debug] Live reload: lib/my_app_web/live/form_live/edit.ex

Rebuilding...

Done in 146ms.
[info] GET /forms/b8fd73c1-c966-43e6-935f-06a893313ebd/edit
[debug] Processing with MyAppWeb.FormLive.Edit.edit/2
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Pipelines: [:form_browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=0.7ms idle=1594.3ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:50.585319Z]]
[90m↳ MyAppWeb.UserAuth.fetch_current_user/2, at: lib/my_app_web/user_auth.ex:97[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1595.8ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:19[0m
[info] Sent 200 in 4ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 53µs
  Transport: :longpoll
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "HSAEC1Y4ChYvGTYwFBMyOgB6FXNhPA8unAIo7necbMlzRJkhKO-6-xUh", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://phoenix.biantaishabi.org/assets/app.css?v=1743945350", "1" => "http://phoenix.biantaishabi.org/assets/app.js?v=1743945350"}, "vsn" => "2.0.0"}
[debug] MOUNT MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.4ms idle=1221.2ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:15:59.212270Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1222.1ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.mount/3, at: lib/my_app_web/live/form_live/edit.ex:19[0m
[debug] Replied in 2ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Edit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 101µs
[debug] QUERY OK source="forms" db=0.5ms idle=1223.5ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form_with_full_preload/1, at: lib/my_app/forms.ex:81[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=1224.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=225.0ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_items" db=1.2ms idle=225.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_items" db=1.2ms idle=227.2ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=229.3ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=230.4ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Edit.handle_info/2, at: lib/my_app_web/live/form_live/edit.ex:90[0m
[debug] QUERY OK source="form_pages" db=0.6ms idle=231.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."order" LIMIT 1 ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.assign_default_page/1, at: lib/my_app/forms.ex:474[0m
异步加载完成: 发现15个表单项
[info] GET /forms/b8fd73c1-c966-43e6-935f-06a893313ebd
[debug] Processing with MyAppWeb.FormLive.Show.show/2
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Pipelines: [:form_browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=3.4ms idle=398.4ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:16:31.389450Z]]
[90m↳ MyAppWeb.UserAuth.fetch_current_user/2, at: lib/my_app_web/user_auth.ex:97[0m
[debug] QUERY OK source="forms" db=0.6ms idle=409.3ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form/1, at: lib/my_app/forms.ex:50[0m
[debug] QUERY OK source="form_pages" db=0.4ms idle=410.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Show.mount/3, at: lib/my_app_web/live/form_live/show.ex:11[0m
[debug] QUERY OK source="form_pages" db=0.7ms idle=410.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Show.mount/3, at: lib/my_app_web/live/form_live/show.ex:11[0m
[debug] QUERY OK source="form_items" db=1.1ms idle=410.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Show.mount/3, at: lib/my_app_web/live/form_live/show.ex:11[0m
[debug] QUERY OK source="form_items" db=1.1ms queue=0.1ms idle=413.0ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Show.mount/3, at: lib/my_app_web/live/form_live/show.ex:11[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=415.0ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Show.mount/3, at: lib/my_app_web/live/form_live/show.ex:11[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=416.4ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Show.mount/3, at: lib/my_app_web/live/form_live/show.ex:11[0m
[info] Sent 200 in 20ms
[info] GET /forms/b8fd73c1-c966-43e6-935f-06a893313ebd/submit
[debug] Processing with MyAppWeb.FormLive.Submit.new/2
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Pipelines: [:form_browser, :require_authenticated_user]
[debug] QUERY OK source="users_tokens" db=1.2ms idle=1517.8ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:16:34.508767Z]]
[90m↳ MyAppWeb.UserAuth.fetch_current_user/2, at: lib/my_app_web/user_auth.ex:97[0m
[debug] QUERY OK source="forms" db=0.4ms idle=1541.6ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form/1, at: lib/my_app/forms.ex:50[0m
[debug] QUERY OK source="form_pages" db=0.3ms idle=1542.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="form_pages" db=0.5ms idle=1542.6ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=1542.7ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="form_items" db=1.0ms queue=0.1ms idle=1544.7ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=1546.4ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="item_options" db=0.6ms idle=1547.4ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m

===== 选项加载检查 =====
修改后的文本问题 (radio) 选项:
  - 选项A (我是🐷)
  - 选项C (我是🐑)
  - 选项B (我是🐂)
are you ok (radio) 选项:
  - 选项A (ok)
  - 选项B (不ok)
你是谁 (dropdown) 选项:
  - 选项B (外星人)
  - 选项D (option_d)
  - 选项C (机器人)
  - 选项A (人)
多选 (checkbox) 选项:
  - 选项C (option_c)
  - 选项A (option_a)
  - 选项B (option_b)
===== 选项加载检查结束 =====


===== 表单提交页面调试信息 =====
表单ID: b8fd73c1-c966-43e6-935f-06a893313ebd
表单项数量: 15
表单项: b1510b1b-a057-4f36-ac21-7b0f8752f478 (你是谁) - 类型: text_input - 选项: 0个选项
表单项: fe01d45d-fb33-4a47-b19c-fdd53b35d93e (修改后的文本问题) - 类型: radio - 选项: 3个选项
  - 选项ID: 29e2cece-d1b8-4ff7-bdba-cfcbce9a346a, 标签: 选项A, 值: 我是🐷
  - 选项ID: ba717815-5824-4be6-bdb9-53d791d899c9, 标签: 选项C, 值: 我是🐑
  - 选项ID: 9745df89-9e6c-44d0-b4b1-cbbe2e6fd5d6, 标签: 选项B, 值: 我是🐂
表单项: 0ac1ad61-fb50-4093-9e27-eebd1cf87220 (are you ok) - 类型: radio - 选项: 2个选项
  - 选项ID: fc72e477-3f8f-4cb0-9048-b8735c4991e9, 标签: 选项A, 值: ok
  - 选项ID: a22f02a3-79b6-4518-a9e6-ea725cb66223, 标签: 选项B, 值: 不ok
表单项: 6ee4605a-31e9-4a29-85d9-fdbed90838f2 (你是谁) - 类型: dropdown - 选项: 4个选项
  - 选项ID: b130d9a6-3cc9-48dc-b984-fb66e2b5f059, 标签: 选项B, 值: 外星人
  - 选项ID: 4f7fdccc-5444-43e5-a49e-22bdf7ba4516, 标签: 选项D, 值: option_d
  - 选项ID: e51d9cce-514f-4e4c-902f-5671ae152176, 标签: 选项C, 值: 机器人
  - 选项ID: 89fcd624-f12d-4976-9583-f2649c104fb8, 标签: 选项A, 值: 人
表单项: 831714d9-96f3-4f16-b1ef-b0f9fe24bd5d (多选) - 类型: checkbox - 选项: 3个选项
  - 选项ID: 20c3d890-5225-4a36-92e0-b634e2b01def, 标签: 选项C, 值: option_c
  - 选项ID: 14e9f4a1-c0dc-4fab-81e6-343a4612dc73, 标签: 选项A, 值: option_a
  - 选项ID: d0999716-79f1-42ec-95cb-ba1766b9b3ae, 标签: 选项B, 值: option_b
表单项: d671e37b-025c-4558-808a-b460bfc4d3d4 (数字测试) - 类型: number - 选项: 0个选项
表单项: 9a32f3e9-5f11-421a-9f42-d76ac6c2678f (日期测试？) - 类型: date - 选项: 0个选项
表单项: f8570bad-eb96-44fb-b276-eb75a853c2c0 (时间测试) - 类型: time - 选项: 0个选项
表单项: 022eb894-9eeb-429d-b5d7-6683a2e35864 (地区测试) - 类型: region - 选项: 0个选项
表单项: a8b1997b-6901-4fb3-9bcc-3a04af3c56ec (评分测试) - 类型: rating - 选项: 0个选项
表单项: b84d2614-98e9-49f5-b047-72946bc07e9b (gh) - 类型: rating - 选项: 0个选项
表单项: 8a0f5666-ac23-49b2-b2e3-6ce5c28fa697 (文件) - 类型: file_upload - 选项: 0个选项
表单项: ea81ee99-c3ff-47ca-9966-7935d597070a (图片) - 类型: image_choice - 选项: 0个选项
表单项: 414eac01-0022-4862-af03-4929ba2bf50b (新矩阵题) - 类型: matrix - 选项: 0个选项
表单项: 4b8e6847-d985-494c-9afe-74ce712a51d8 (新矩阵题) - 类型: matrix - 选项: 0个选项
当前页面表单项数量: 15
===== 调试信息结束 =====

[info] Sent 200 in 59ms
[info] CONNECTED TO Phoenix.LiveView.Socket in 81µs
  Transport: :websocket
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "KlUhUSQDHyZ5BRg8J25sHyRYaXEiAS0RY4l5EUpS4QBva75MomQ4nEwW", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://phoenix.biantaishabi.org/assets/app.css?v=1743945394", "1" => "http://phoenix.biantaishabi.org/assets/app.js?v=1743945394"}, "vsn" => "2.0.0"}
[debug] MOUNT MyAppWeb.FormLive.Submit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
  Session: %{"_csrf_token" => "saMdaVouMTZJFYYRK58ELDZF", "live_socket_id" => "users_sessions:tx83Gs_ld1JRNqfGogyr_uB9keh-BXaCRzb-yKBYlBE=", "user_token" => <<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>}
[debug] QUERY OK source="users_tokens" db=0.7ms idle=159.3ms
SELECT u1."id", u1."email", u1."hashed_password", u1."confirmed_at", u1."inserted_at", u1."updated_at" FROM "users_tokens" AS u0 INNER JOIN "users" AS u1 ON u1."id" = u0."user_id" WHERE ((u0."token" = $1) AND (u0."context" = $2)) AND (u0."inserted_at" > $3::timestamp + (-(60)::numeric * interval '1 day')) [<<183, 31, 55, 26, 207, 229, 119, 82, 81, 54, 167, 198, 162, 12, 171, 254, 224, 125, 145, 232, 126, 5, 118, 130, 71, 54, 254, 200, 160, 88, 148, 17>>, "session", ~U[2025-04-06 13:16:38.150498Z]]
[90m↳ Phoenix.LiveView.Utils.assign_new/3, at: lib/phoenix_live_view/utils.ex:79[0m
[debug] QUERY OK source="forms" db=0.4ms idle=160.6ms
SELECT f0."id", f0."title", f0."description", f0."status", f0."user_id", f0."default_page_id", f0."inserted_at", f0."updated_at" FROM "forms" AS f0 WHERE (f0."id" = $1) ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyApp.Forms.get_form/1, at: lib/my_app/forms.ex:50[0m
[debug] QUERY OK source="form_pages" db=0.5ms queue=0.1ms idle=161.5ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."id" FROM "form_pages" AS f0 WHERE (f0."id" = $1) ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="form_pages" db=0.6ms queue=0.1ms idle=161.7ms
SELECT f0."id", f0."title", f0."description", f0."order", f0."form_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_pages" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="form_items" db=0.9ms idle=161.9ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."form_id" FROM "form_items" AS f0 WHERE (f0."form_id" = $1) ORDER BY f0."form_id", f0."order" ["b8fd73c1-c966-43e6-935f-06a893313ebd"]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="form_items" db=0.9ms queue=0.1ms idle=163.8ms
SELECT f0."id", f0."label", f0."description", f0."placeholder", f0."type", f0."max_rating", f0."min", f0."max", f0."step", f0."show_format_hint", f0."format_display", f0."min_date", f0."max_date", f0."date_format", f0."min_time", f0."max_time", f0."time_format", f0."region_level", f0."default_province", f0."matrix_rows", f0."matrix_columns", f0."matrix_type", f0."selection_type", f0."image_caption_position", f0."allowed_extensions", f0."max_file_size", f0."multiple_files", f0."max_files", f0."category", f0."visibility_condition", f0."required_condition", f0."order", f0."required", f0."validation_rules", f0."form_id", f0."page_id", f0."inserted_at", f0."updated_at", f0."page_id" FROM "form_items" AS f0 WHERE (f0."page_id" = $1) ORDER BY f0."page_id", f0."order" ["6b67f044-ae73-4e70-9908-0c1d20b82e7b"]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="item_options" db=0.5ms idle=165.8ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m
[debug] QUERY OK source="item_options" db=0.4ms idle=166.9ms
SELECT i0."id", i0."label", i0."value", i0."order", i0."form_item_id", i0."inserted_at", i0."updated_at", i0."form_item_id" FROM "item_options" AS i0 WHERE (i0."form_item_id" = ANY($1)) ORDER BY i0."form_item_id" [["b1510b1b-a057-4f36-ac21-7b0f8752f478", "fe01d45d-fb33-4a47-b19c-fdd53b35d93e", "0ac1ad61-fb50-4093-9e27-eebd1cf87220", "6ee4605a-31e9-4a29-85d9-fdbed90838f2", "831714d9-96f3-4f16-b1ef-b0f9fe24bd5d", "d671e37b-025c-4558-808a-b460bfc4d3d4", "9a32f3e9-5f11-421a-9f42-d76ac6c2678f", "f8570bad-eb96-44fb-b276-eb75a853c2c0", "022eb894-9eeb-429d-b5d7-6683a2e35864", "a8b1997b-6901-4fb3-9bcc-3a04af3c56ec", "b84d2614-98e9-49f5-b047-72946bc07e9b", "8a0f5666-ac23-49b2-b2e3-6ce5c28fa697", "ea81ee99-c3ff-47ca-9966-7935d597070a", "414eac01-0022-4862-af03-4929ba2bf50b", "4b8e6847-d985-494c-9afe-74ce712a51d8"]]
[90m↳ MyAppWeb.FormLive.Submit.get_published_form/1, at: lib/my_app_web/live/form_live/submit.ex:16[0m

===== 选项加载检查 =====
修改后的文本问题 (radio) 选项:
  - 选项A (我是🐷)
  - 选项C (我是🐑)
  - 选项B (我是🐂)
are you ok (radio) 选项:
  - 选项A (ok)
  - 选项B (不ok)
你是谁 (dropdown) 选项:
  - 选项B (外星人)
  - 选项D (option_d)
  - 选项C (机器人)
  - 选项A (人)
多选 (checkbox) 选项:
  - 选项C (option_c)
  - 选项A (option_a)
  - 选项B (option_b)
===== 选项加载检查结束 =====


===== 表单提交页面调试信息 =====
表单ID: b8fd73c1-c966-43e6-935f-06a893313ebd
表单项数量: 15
表单项: b1510b1b-a057-4f36-ac21-7b0f8752f478 (你是谁) - 类型: text_input - 选项: 0个选项
表单项: fe01d45d-fb33-4a47-b19c-fdd53b35d93e (修改后的文本问题) - 类型: radio - 选项: 3个选项
  - 选项ID: 29e2cece-d1b8-4ff7-bdba-cfcbce9a346a, 标签: 选项A, 值: 我是🐷
  - 选项ID: ba717815-5824-4be6-bdb9-53d791d899c9, 标签: 选项C, 值: 我是🐑
  - 选项ID: 9745df89-9e6c-44d0-b4b1-cbbe2e6fd5d6, 标签: 选项B, 值: 我是🐂
表单项: 0ac1ad61-fb50-4093-9e27-eebd1cf87220 (are you ok) - 类型: radio - 选项: 2个选项
  - 选项ID: fc72e477-3f8f-4cb0-9048-b8735c4991e9, 标签: 选项A, 值: ok
  - 选项ID: a22f02a3-79b6-4518-a9e6-ea725cb66223, 标签: 选项B, 值: 不ok
表单项: 6ee4605a-31e9-4a29-85d9-fdbed90838f2 (你是谁) - 类型: dropdown - 选项: 4个选项
  - 选项ID: b130d9a6-3cc9-48dc-b984-fb66e2b5f059, 标签: 选项B, 值: 外星人
  - 选项ID: 4f7fdccc-5444-43e5-a49e-22bdf7ba4516, 标签: 选项D, 值: option_d
  - 选项ID: e51d9cce-514f-4e4c-902f-5671ae152176, 标签: 选项C, 值: 机器人
  - 选项ID: 89fcd624-f12d-4976-9583-f2649c104fb8, 标签: 选项A, 值: 人
表单项: 831714d9-96f3-4f16-b1ef-b0f9fe24bd5d (多选) - 类型: checkbox - 选项: 3个选项
  - 选项ID: 20c3d890-5225-4a36-92e0-b634e2b01def, 标签: 选项C, 值: option_c
  - 选项ID: 14e9f4a1-c0dc-4fab-81e6-343a4612dc73, 标签: 选项A, 值: option_a
  - 选项ID: d0999716-79f1-42ec-95cb-ba1766b9b3ae, 标签: 选项B, 值: option_b
表单项: d671e37b-025c-4558-808a-b460bfc4d3d4 (数字测试) - 类型: number - 选项: 0个选项
表单项: 9a32f3e9-5f11-421a-9f42-d76ac6c2678f (日期测试？) - 类型: date - 选项: 0个选项
表单项: f8570bad-eb96-44fb-b276-eb75a853c2c0 (时间测试) - 类型: time - 选项: 0个选项
表单项: 022eb894-9eeb-429d-b5d7-6683a2e35864 (地区测试) - 类型: region - 选项: 0个选项
表单项: a8b1997b-6901-4fb3-9bcc-3a04af3c56ec (评分测试) - 类型: rating - 选项: 0个选项
表单项: b84d2614-98e9-49f5-b047-72946bc07e9b (gh) - 类型: rating - 选项: 0个选项
表单项: 8a0f5666-ac23-49b2-b2e3-6ce5c28fa697 (文件) - 类型: file_upload - 选项: 0个选项
表单项: ea81ee99-c3ff-47ca-9966-7935d597070a (图片) - 类型: image_choice - 选项: 0个选项
表单项: 414eac01-0022-4862-af03-4929ba2bf50b (新矩阵题) - 类型: matrix - 选项: 0个选项
表单项: 4b8e6847-d985-494c-9afe-74ce712a51d8 (新矩阵题) - 类型: matrix - 选项: 0个选项
当前页面表单项数量: 15
===== 调试信息结束 =====

[debug] Replied in 14ms
[debug] HANDLE PARAMS in MyAppWeb.FormLive.Submit
  Parameters: %{"id" => "b8fd73c1-c966-43e6-935f-06a893313ebd"}
[debug] Replied in 109µs
